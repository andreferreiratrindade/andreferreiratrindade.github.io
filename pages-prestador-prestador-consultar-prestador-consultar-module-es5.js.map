{"version":3,"sources":["webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.page.html","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar-routing.module.ts","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.module.ts","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.page.scss","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.page.ts"],"names":["routes","path","component","PrestadorConsultarPageRoutingModule","imports","forChild","exports","PrestadorConsultarPageModule","declarations","PrestadorConsultarPage","prestadorService","toastCtrl","igrejaService","usuarioService","loadingContr","validation_messages","type","message","formulario","compose","required","prestadores","showLoader","RecuperaUfPrestadorDisponiveis","then","result","UfList","x","handler","hideLoader","value","RecuperaCidadePrestadorDisponiveis","cidadeList","RecuperaPestadoresPorCidadeEhUF","prestadoresResult","igrejas","map","igrejaId","RecuperaNomeIgreja","resultIgreja","usuarios","uid","RecuperaNomeUsuarios","usuariosResult","nome","find","y","id","data","nomeIgreja","cidade","uf","usuarioId","selector","template"],"mappings":"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","file":"pages-prestador-prestador-consultar-prestador-consultar-module-es5.js","sourcesContent":["export default \"<ion-header translucent>\\n  <ion-toolbar>\\n    <ion-title>Consultar Prestador</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n  <form [formGroup]=\\\"formulario\\\" (ngSubmit)=\\\"ConsultarPrestador()\\\">\\n     <ion-list  lines=\\\"full\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\n      <ion-item class=\\\"input-item\\\">\\n        <ion-label>UF <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n        <ion-select class=\\\"ion-text-end\\\" name=\\\"uf\\\" formControlName=\\\"uf\\\" (ionChange)=\\\"buscarCidades()\\\" interface=\\\"popover\\\" >\\n          <ion-select-option *ngFor=\\\"let item of UfList\\\" value=\\\"{{item}}\\\">\\n              {{ item }}\\n          </ion-select-option>\\n        </ion-select>\\n    \\n      </ion-item>\\n      <app-mensagem-validacao [validation_messages_object]=\\\"validation_messages.uf\\\" [form]=\\\"formulario\\\"\\n      [nomeCampo]=\\\"'uf'\\\"></app-mensagem-validacao>\\n\\n      <ion-item>\\n        <ion-label>Cidade</ion-label>\\n        <ion-select class=\\\"ion-text-end\\\" name=\\\"cidade\\\" formControlName=\\\"cidade\\\"  [disabled]=\\\"!formulario.value['uf']\\\" interface=\\\"popover\\\" >\\n          <ion-select-option *ngFor=\\\"let item of cidadeList\\\"  selected=\\\"selected\\\" value=\\\"{{item}}\\\">\\n              {{ item }}\\n          </ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <app-mensagem-validacao [validation_messages_object]=\\\"validation_messages.cidade\\\" [form]=\\\"formulario\\\"\\n      [nomeCampo]=\\\"'cidade'\\\"></app-mensagem-validacao> \\n    </ion-list> \\n    <div class=\\\"error-container\\\" *ngIf=\\\"submitError\\\">\\n      <div class=\\\"error-message\\\">\\n        <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n        <span>{{ submitError }}</span>\\n      </div>\\n    </div>\\n    <ion-button class=\\\"sign-up-btn\\\" type=\\\"submit\\\" expand=\\\"block\\\" [disabled]=\\\"!formulario.valid\\\">Pesquisar</ion-button>\\n  </form>\\n\\n\\n  <ion-item *ngFor=\\\"let item of prestadores\\\" value=\\\"{{item}}\\\">\\n\\n    <ion-label>\\n      <h2>{{item.nome}}</h2>\\n      <p>{{item.cidade}} / {{item.uf}}</p>\\n      <p>{{item.nomeIgreja}}</p>\\n    </ion-label>\\n  </ion-item>\\n\\n</ion-content> \";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PrestadorConsultarPage } from './prestador-consultar.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PrestadorConsultarPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PrestadorConsultarPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PrestadorConsultarPageRoutingModule } from './prestador-consultar-routing.module';\n\nimport { PrestadorConsultarPage } from './prestador-consultar.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ComponentsModule,\n    IonicModule,\n    PrestadorConsultarPageRoutingModule\n  ],\n  declarations: [PrestadorConsultarPage]\n})\nexport class PrestadorConsultarPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3ByZXN0YWRvci9wcmVzdGFkb3ItY29uc3VsdGFyL3ByZXN0YWRvci1jb25zdWx0YXIucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { PrestadorService } from 'src/app/providers/prestador/prestador.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { HandlerError } from 'src/app/helpers/handlerError';\nimport { ToastController, LoadingController } from '@ionic/angular';\nimport { IgrejaService } from 'src/app/providers/igreja/igreja.service';\nimport { UsuarioService } from 'src/app/providers/usuario/usuario.service';\nimport { LoadingContr } from 'src/app/helpers/loadingContr';\n\n@Component({\n  selector: 'app-prestador-consultar',\n  templateUrl: './prestador-consultar.page.html',\n  styleUrls: ['./prestador-consultar.page.scss'],\n})\nexport class PrestadorConsultarPage implements OnInit {\n\n  UfList: any[];\n  cidadeList: any[];\n  formulario: FormGroup;\n  prestadores: any[];\n  validation_messages = {\n    'uf': [\n      { type: 'required', message: 'Campo de preenchimento obrigat√≥rio.' }\n    ]\n  };\n\n  constructor(public prestadorService: PrestadorService,\n    public toastCtrl: ToastController,\n    public igrejaService :IgrejaService,\n    public usuarioService:UsuarioService,\n    public loadingContr:LoadingContr\n    ) {\n\n    this.formulario = new FormGroup({\n      'uf': new FormControl('', Validators.compose([\n        Validators.required\n      ])),\n      'cidade': new FormControl()\n    });\n    this.prestadores = [];\n\n  }\n\n  ngOnInit() {\n    this.loadingContr.showLoader();\n\n    this.prestadorService.RecuperaUfPrestadorDisponiveis()\n      .then(result => {\n        this.UfList = result;\n      }).catch(x => {\n        HandlerError.handler(x, this.toastCtrl);\n      }).finally(()=> {\n        this.loadingContr.hideLoader();\n    });\n  }\n\n  buscarCidades(){\n    this.loadingContr.showLoader();\n    this.formulario.value['cidade']= \"\";\n    this.prestadorService.RecuperaCidadePrestadorDisponiveis(this.formulario.value['uf'])\n    .then(result => {\n      this.cidadeList = result;\n    }).catch(x => {\n      HandlerError.handler(x, this.toastCtrl);\n    }).finally(()=> {\n      this.loadingContr.hideLoader();\n  });\n  }\n\n  ConsultarPrestador(){\n    this.loadingContr.showLoader();\n    this.prestadores = [];\n\n    this.prestadorService.RecuperaPestadoresPorCidadeEhUF(this.formulario.value['uf'], this.formulario.value['cidade'])\n    .then(prestadoresResult => {\n      let igrejas = [];\n      igrejas = prestadoresResult.map(x=>{ return x.igrejas[0].igrejaId});\n\n      this.igrejaService.RecuperaNomeIgreja(igrejas).then(resultIgreja=>{\n        \n        let usuarios = [];\n        usuarios = prestadoresResult.map(x=>{return x.uid});\n        this.usuarioService.RecuperaNomeUsuarios(usuarios)\n        .then(usuariosResult =>{\n\n\n         this.prestadores = prestadoresResult.map(x=>{\n            return {\n              nome: usuariosResult.find(y=>y.id==x.uid).data.nome,\n              nomeIgreja: resultIgreja.find(y=>y.id==x.igrejas[0].igrejaId).data.nomeIgreja,\n              cidade:x.cidade,\n              uf:x.uf,\n              usuarioId: x.uid,\n              igrejaId:x.igrejas[0].igrejaId\n            };\n          });\n        });\n\n      }\n      )\n      \n    }).catch(x => {\n      HandlerError.handler(x, this.toastCtrl);\n    })\n    .finally(()=> {\n        this.loadingContr.hideLoader();\n    });\n  }\n}\n"]}
{"version":3,"sources":["webpack:///src/app/pages/gerenciarIgreja/criar-igreja/criar-igreja.page.html","webpack:///src/app/pages/gerenciarIgreja/criar-igreja/criar-igreja.module.ts","webpack:///src/app/pages/gerenciarIgreja/criar-igreja/criar-igreja.page.scss","webpack:///src/app/pages/gerenciarIgreja/criar-igreja/criar-igreja.page.ts"],"names":["routes","path","component","CriarIgrejaPageModule","imports","forChild","declarations","CriarIgrejaPage","buscarCEPService","igrejaService","router","toastCtrl","ngZone","usuarioService","loadingControll","validation_messages","type","message","formData","compose","required","showLoader","recuperaUsuarioLogado","then","x","run","navigate","hideLoader","igrejaEntity","value","length","handler","buscarCEP","erro","cidade","localidade","bairro","uf","logradouro","cep","enderecoParte1","enderecoParte2","nomeIgreja","administradores","uid","recuperaUsuario","AdicionarNovaIgreja","SucessoToast","error","selector","template"],"mappings":"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","file":"pages-gerenciarIgreja-criar-igreja-criar-igreja-module-es5.js","sourcesContent":["export default \"<ion-header translucent>\\n  <ion-toolbar>\\n    <ion-title>Cadastrar Igreja</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n  <form [formGroup]=\\\"formData\\\" (ngSubmit)=\\\"submitError='';salvarIgreja()\\\">\\n    <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\n      <ion-item class=\\\"input-item\\\">\\n        <ion-label position=\\\"floating\\\">Nome Igreja<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n\\n        <ion-input type=\\\"text\\\" formControlName=\\\"nomeIgreja\\\" clearInput autocapitalize=\\\"off\\\"></ion-input>\\n      </ion-item>\\n      <app-mensagem-validacao [validation_messages_object]=\\\"validation_messages.nomeIgreja\\\" [form]=\\\"formData\\\"\\n        [nomeCampo]=\\\"'nomeIgreja'\\\"></app-mensagem-validacao>\\n\\n      <ion-item class=\\\"input-item\\\">\\n        <ion-label position=\\\"floating\\\">Cep<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-input type=\\\"text\\\" formControlName=\\\"cep\\\" clearInput autocapitalize=\\\"off\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-chip color=\\\"tertiary\\\" (click)=\\\"submitError='';buscarEnderecoPorCEP()\\\" size=\\\"6\\\">\\n        <ion-label>Buscar Endereço</ion-label>\\n        <ion-icon name=\\\"search-outline\\\"></ion-icon>\\n      </ion-chip>\\n      <ion-item class=\\\"input-item\\\">\\n        <ion-label>\\n          <p>{{enderecoParte1}}</p>\\n          <p>{{enderecoParte2}} </p>\\n        </ion-label>\\n\\n      <!-- <ion-button color=\\\"tertiary\\\" type=\\\"button\\\" (click)=\\\"submitError='';buscarEnderecoPorCEP()\\\" [submitError]=\\\"\\\">Buscar endereço</ion-button> -->\\n      <app-mensagem-validacao [validation_messages_object]=\\\"validation_messages.cep\\\" [form]=\\\"formData\\\"\\n        [nomeCampo]=\\\"'cep'\\\"></app-mensagem-validacao>\\n\\n    \\n\\n      </ion-item>\\n\\n      <div class=\\\"error-container\\\" *ngIf=\\\"submitError\\\">\\n        <div class=\\\"error-message\\\">\\n          <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n          <span>{{ submitError }}</span>\\n        </div>\\n      </div>\\n    </ion-list>\\n    <ion-button class=\\\"sign-up-btn\\\" type=\\\"submit\\\" [submitError]=\\\"\\\" expand=\\\"block\\\" [disabled]=\\\"!formData.valid > 0 \\\">\\n      Cadastrar</ion-button>\\n  </form>\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CriarIgrejaPageRoutingModule } from './criar-igreja-routing.module';\n\nimport { CriarIgrejaPage } from './criar-igreja.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { RouterModule, Routes } from '@angular/router';\nconst routes: Routes = [\n  {\n    path: '',\n    component: CriarIgrejaPage,\n  }\n];\n@NgModule({\n\n    imports: [\n      CommonModule,\n      FormsModule,\n      ReactiveFormsModule,\n      ComponentsModule,\n      IonicModule,\n      RouterModule.forChild(routes),\n  \n  ],\n  declarations: [CriarIgrejaPage]\n})\nexport class CriarIgrejaPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2dlcmVuY2lhcklncmVqYS9jcmlhci1pZ3JlamEvY3JpYXItaWdyZWphLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit, NgZone } from '@angular/core';\nimport { BuscarCEPService } from 'src/app/providers/buscaCEP/buscar-cep.service';\nimport { FormGroup, Validators, FormBuilder, FormControl } from '@angular/forms';\n\nimport { IgrejaService } from 'src/app/providers/igreja/igreja.service';\nimport { Config } from 'src/app/config';\nimport { Router } from '@angular/router';\nimport { FirebaseAuthService } from 'src/app/providers/base-provider/firebase-auth-service.service';\nimport { UsuarioService } from 'src/app/providers/usuario/usuario.service';\nimport { HandlerError } from 'src/app/helpers/handlerError';\nimport { ToastController } from '@ionic/angular';\nimport { LoadingContr } from 'src/app/helpers/loadingContr';\nimport { ToastCustom } from 'src/app/helpers/toastCustom';\n\n@Component({\n  selector: 'app-criar-igreja',\n  templateUrl: './criar-igreja.page.html',\n  styleUrls: ['./criar-igreja.page.scss'],\n})\nexport class CriarIgrejaPage implements OnInit {\n\n  private igrejaEntity: any\n  public formData: FormGroup;\n  public submitError :string;\n  public enderecoParte1:string;\n  public enderecoParte2:string;\n  validation_messages = {\n    'nomeIgreja': [\n      { type: 'required', message: 'Campo de preenchimento obrigatório.' },\n    ],\n    'cep': [\n      { type: 'required', message: 'Campo de preenchimento obrigatório.' },\n    ]\n  };\n  constructor(public buscarCEPService: BuscarCEPService,\n    public igrejaService: IgrejaService,\n    public router: Router,\n    public toastCtrl: ToastController,\n    private ngZone: NgZone,\n    private usuarioService: UsuarioService,\n    public loadingControll:LoadingContr\n  ) {\n\n    this.formData = new FormGroup({\n      'cep': new FormControl('', Validators.compose([\n        Validators.required\n      ])),\n      'nomeIgreja': new FormControl('', Validators.compose([\n        Validators.required\n      ]))\n    });\n  }\n\n  ngOnInit() {\n    this.loadingControll.showLoader()\n    this.usuarioService.recuperaUsuarioLogado().then(x => {\n      if (x == null) {\n        this.ngZone.run(() => {\n          this.router.navigate(['sign-in']);\n        });\n      }\n    }).finally(()=>{this.loadingControll.hideLoader()});\n  }\n\n  buscarEnderecoPorCEP() {\n\n    this.igrejaEntity = {};\n    // this.loadingControll.showLoader()\n    if(!this.formData.value['cep'] || this.formData.value['cep'].length != \"8\"){\n      HandlerError.handler(\"Favor inserir CEP válido, antes de continuar.\", this.toastCtrl);\n      return false;\n    }\n    this.buscarCEPService.buscarCEP(this.formData.value['cep']).then(x => {\n  \n      if (x && !x.erro) {\n        this.igrejaEntity.cidade = x.localidade;\n        this.igrejaEntity.bairro = x.bairro;\n        this.igrejaEntity.uf = x.uf;\n        this.igrejaEntity.logradouro = x.logradouro;\n        this.igrejaEntity.cep = x.cep;\n        this.enderecoParte1 = x.logradouro + \", \" + x.bairro;\n        this.enderecoParte2 = x.localidade + \"/\" +x.uf;\n        this.loadingControll.hideLoader();\n      }else{\n        this.loadingControll.hideLoader()\n        HandlerError.handler(\"Favor inserir CEP válido, antes de continuar.\", this.toastCtrl);\n      }\n\n    }).catch(x => {\n      this.loadingControll.hideLoader();\n      HandlerError.handler(x, this.toastCtrl);\n    }).finally(()=>{this.loadingControll.hideLoader()});\n\n  }\n\n  salvarIgreja() {\n    if (!this.igrejaEntity || !this.igrejaEntity.cidade) {\n      HandlerError.handler(\"Favor inserir CEP válido, antes de continuar.\", this.toastCtrl);\n      return false;\n    }\n\n    this.loadingControll.showLoader()\n    \n    this.igrejaEntity.nomeIgreja = this.formData.value['nomeIgreja'];\n    this.igrejaEntity.administradores = [{uid:Config.recuperaUsuario().uid}];\n    this.igrejaService.AdicionarNovaIgreja(this.igrejaEntity).then(x => {\n      ToastCustom.SucessoToast(this.toastCtrl);\n\n    }).catch((error) => {\n      HandlerError.handler(error, this.toastCtrl);\n    }).finally(()=>{this.loadingControll.hideLoader()});\n\n  }\n\n}\n"]}